<?xml version="1.0" encoding="UTF-8" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><!-- Generated by graphviz version 2.40.1 (20161225.0304)
 --><!-- Title: G Pages: 1 --><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="518pt" height="372pt" viewBox="0.00 0.00 518.00 371.62">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 367.6174)">
<title>G</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-367.6174 514,-367.6174 514,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_promotion</title>
<polygon fill="none" stroke="#000000" stroke-dasharray="1,5" points="8,-8 8,-355.6174 502,-355.6174 502,-8 8,-8"/>
<text text-anchor="middle" x="255" y="-344.4174" font-family="Ubuntu Light" font-size="8.00" fill="#000000">Promotion Code</text>
<text text-anchor="middle" x="255" y="-334.8174" font-family="Ubuntu Light" font-size="8.00" fill="#000000">[Software System]</text>
</g>
<!-- person -->
<g id="node1" class="node">
<title>person</title>
<polygon fill="#004179" stroke="#000000" points="256.7685,-320.4174 225.2315,-320.4174 214,-284.4174 268,-284.4174 256.7685,-320.4174"/>
<text text-anchor="middle" x="241" y="-300.0174" font-family="Ubuntu Light" font-size="8.00" fill="#ffffff">User</text>
</g>
<!-- promotion_code_service -->
<g id="node2" class="node">
<title>promotion_code_service</title>
<polygon fill="#3b8cd2" stroke="#000000" points="288.1542,-191.8087 193.8458,-191.8087 193.8458,-155.8087 288.1542,-155.8087 288.1542,-191.8087"/>
<text text-anchor="middle" x="241" y="-176.2087" font-family="Ubuntu Light" font-size="8.00" fill="#ffffff">Promotion Code Service</text>
<text text-anchor="middle" x="241" y="-166.6087" font-family="Ubuntu Light" font-size="8.00" fill="#ffffff">[Container: golang]</text>
</g>
<!-- person&#45;&gt;promotion_code_service -->
<g id="edge1" class="edge">
<title>person-&gt;promotion_code_service</title>
<path fill="none" stroke="#000000" d="M241,-284.2637C241,-262.9122 241,-227.2133 241,-202.1944"/>
<polygon fill="#000000" stroke="#000000" points="244.5001,-201.87 241,-191.8701 237.5001,-201.8701 244.5001,-201.87"/>
<text text-anchor="middle" x="267.4993" y="-242.0174" font-family="Ubuntu Light" font-size="6.00" fill="#000000">ApplyPromotionCode</text>
<text text-anchor="middle" x="267.4993" y="-234.8174" font-family="Ubuntu Light" font-size="6.00" fill="#000000">[http]</text>
</g>
<!-- wallet_service -->
<g id="node3" class="node">
<title>wallet_service</title>
<polygon fill="#3b8cd2" stroke="#000000" points="492.2963,-173.8087 460.1481,-196.2281 395.8519,-196.2281 363.7037,-173.8087 395.8519,-151.3893 460.1481,-151.3893 492.2963,-173.8087"/>
<text text-anchor="middle" x="428" y="-176.2087" font-family="Ubuntu Light" font-size="8.00" fill="#ffffff">Wallet Service</text>
<text text-anchor="middle" x="428" y="-166.6087" font-family="Ubuntu Light" font-size="8.00" fill="#ffffff">[Container: golang]</text>
</g>
<!-- promotion_code_service&#45;&gt;wallet_service -->
<g id="edge5" class="edge">
<title>promotion_code_service-&gt;wallet_service</title>
<path fill="none" stroke="#000000" d="M288.188,-173.8087C307.9856,-173.8087 331.4893,-173.8087 353.5217,-173.8087"/>
<polygon fill="#000000" stroke="#000000" points="353.5225,-177.3088 363.5225,-173.8087 353.5225,-170.3088 353.5225,-177.3088"/>
<text text-anchor="middle" x="325.9644" y="-185.8087" font-family="Ubuntu Light" font-size="6.00" fill="#000000">Increase Cache</text>
<text text-anchor="middle" x="325.9644" y="-178.6087" font-family="Ubuntu Light" font-size="6.00" fill="#000000">[http]</text>
</g>
<!-- event_bus -->
<g id="node4" class="node">
<title>event_bus</title>
<polygon fill="#3b8cd2" stroke="#000000" points="171.7278,-70.6015 48.0803,-70.6015 16.2722,-15.7985 139.9197,-15.7985 171.7278,-70.6015"/>
<text text-anchor="middle" x="94" y="-45.6" font-family="Ubuntu Light" font-size="8.00" fill="#ffffff">Event Bus</text>
<text text-anchor="middle" x="94" y="-36" font-family="Ubuntu Light" font-size="8.00" fill="#ffffff">[Container: kafka]</text>
</g>
<!-- promotion_code_service&#45;&gt;event_bus -->
<g id="edge3" class="edge">
<title>promotion_code_service-&gt;event_bus</title>
<path fill="none" stroke="#000000" d="M220.5603,-155.6481C197.8456,-135.4662 160.6538,-102.4215 132.4512,-77.3637"/>
<polygon fill="#000000" stroke="#000000" points="134.5548,-74.5508 124.7545,-70.5252 129.9053,-79.7837 134.5548,-74.5508"/>
<text text-anchor="middle" x="190.4156" y="-109.2" font-family="Ubuntu Light" font-size="6.00" fill="#000000">Publish events</text>
</g>
<!-- promotion_db -->
<g id="node5" class="node">
<title>promotion_db</title>
<path fill="#3b8cd2" stroke="#000000" d="M286.2026,-58.6654C286.2026,-60.5618 264.5974,-62.1022 238,-62.1022 211.4026,-62.1022 189.7974,-60.5618 189.7974,-58.6654 189.7974,-58.6654 189.7974,-27.7346 189.7974,-27.7346 189.7974,-25.8382 211.4026,-24.2978 238,-24.2978 264.5974,-24.2978 286.2026,-25.8382 286.2026,-27.7346 286.2026,-27.7346 286.2026,-58.6654 286.2026,-58.6654"/>
<path fill="none" stroke="#000000" d="M286.2026,-58.6654C286.2026,-56.7691 264.5974,-55.2286 238,-55.2286 211.4026,-55.2286 189.7974,-56.7691 189.7974,-58.6654"/>
<text text-anchor="middle" x="238" y="-45.6" font-family="Ubuntu Light" font-size="8.00" fill="#ffffff">Promotion DB</text>
<text text-anchor="middle" x="238" y="-36" font-family="Ubuntu Light" font-size="8.00" fill="#ffffff">[Container: PostgreSQL]</text>
</g>
<!-- promotion_code_service&#45;&gt;promotion_db -->
<g id="edge4" class="edge">
<title>promotion_code_service-&gt;promotion_db</title>
<path fill="none" stroke="#000000" d="M240.5829,-155.6481C240.087,-134.0594 239.253,-97.7522 238.6672,-72.2471"/>
<polygon fill="#000000" stroke="#000000" points="242.1618,-71.9691 238.433,-62.0521 235.1637,-72.1299 242.1618,-71.9691"/>
<text text-anchor="middle" x="252.8273" y="-109.2" font-family="Ubuntu Light" font-size="6.00" fill="#000000">Write/Read</text>
</g>
<!-- lock -->
<g id="node7" class="node">
<title>lock</title>
<path fill="#3b8cd2" stroke="#000000" d="M379.8183,-58.6654C379.8183,-60.5618 362.8675,-62.1022 342,-62.1022 321.1325,-62.1022 304.1817,-60.5618 304.1817,-58.6654 304.1817,-58.6654 304.1817,-27.7346 304.1817,-27.7346 304.1817,-25.8382 321.1325,-24.2978 342,-24.2978 362.8675,-24.2978 379.8183,-25.8382 379.8183,-27.7346 379.8183,-27.7346 379.8183,-58.6654 379.8183,-58.6654"/>
<path fill="none" stroke="#000000" d="M379.8183,-58.6654C379.8183,-56.7691 362.8675,-55.2286 342,-55.2286 321.1325,-55.2286 304.1817,-56.7691 304.1817,-58.6654"/>
<text text-anchor="middle" x="342" y="-45.6" font-family="Ubuntu Light" font-size="8.00" fill="#ffffff">Lock</text>
<text text-anchor="middle" x="342" y="-36" font-family="Ubuntu Light" font-size="8.00" fill="#ffffff">[Container: Redis]</text>
</g>
<!-- promotion_code_service&#45;&gt;lock -->
<g id="edge2" class="edge">
<title>promotion_code_service-&gt;lock</title>
<path fill="none" stroke="#000000" d="M255.0436,-155.6481C272.1854,-133.4812 301.3269,-95.7966 321.1043,-70.2214"/>
<polygon fill="#000000" stroke="#000000" points="324.073,-72.1039 327.4216,-62.0521 318.5355,-67.8217 324.073,-72.1039"/>
<text text-anchor="middle" x="307.8292" y="-109.2" font-family="Ubuntu Light" font-size="6.00" fill="#000000">Lock/Unlock</text>
</g>
<!-- wallet_db -->
<g id="node6" class="node">
<title>wallet_db</title>
<path fill="#3b8cd2" stroke="#000000" d="M494.2026,-58.6654C494.2026,-60.5618 472.5974,-62.1022 446,-62.1022 419.4026,-62.1022 397.7974,-60.5618 397.7974,-58.6654 397.7974,-58.6654 397.7974,-27.7346 397.7974,-27.7346 397.7974,-25.8382 419.4026,-24.2978 446,-24.2978 472.5974,-24.2978 494.2026,-25.8382 494.2026,-27.7346 494.2026,-27.7346 494.2026,-58.6654 494.2026,-58.6654"/>
<path fill="none" stroke="#000000" d="M494.2026,-58.6654C494.2026,-56.7691 472.5974,-55.2286 446,-55.2286 419.4026,-55.2286 397.7974,-56.7691 397.7974,-58.6654"/>
<text text-anchor="middle" x="446" y="-45.6" font-family="Ubuntu Light" font-size="8.00" fill="#ffffff">Wallet DB</text>
<text text-anchor="middle" x="446" y="-36" font-family="Ubuntu Light" font-size="8.00" fill="#ffffff">[Container: PostgreSQL]</text>
</g>
<!-- wallet_service&#45;&gt;wallet_db -->
<g id="edge6" class="edge">
<title>wallet_service-&gt;wallet_db</title>
<path fill="none" stroke="#000000" d="M431.0943,-151.3563C434.1239,-129.3736 438.7519,-95.7925 442.0466,-71.8859"/>
<polygon fill="#000000" stroke="#000000" points="445.5141,-72.3613 443.4122,-61.9771 438.5796,-71.4056 445.5141,-72.3613"/>
<text text-anchor="middle" x="450.8273" y="-109.2" font-family="Ubuntu Light" font-size="6.00" fill="#000000">Write/Read</text>
</g>
</g>
</svg>